#
# SRG-335x Debian Buster
#
# Copyright (c) LYD/AAEON, 2020
#
# Authors:
#   KunYi <kunyi.chen@gmail.com>
#
# SPDX-License-Identifier: MIT
#

header:
  version: 8

distro: srg52-buster
target: srg52-image

repos:
  meta-srg52:

  isar:
    url: https://github.com/ilbers/isar.git
    refspec: 075646cd5f588a80b6c134e95f5b4ff781d3f057
    layers:
      meta:
    patches:
      01-libubootenv:
        path: isar-patches/0001-u-boot-add-libubootenv.patch
        repo:  meta-srg52
      02-initramfs:
        path: isar-patches/v7-0001-meta-support-Generate-a-custom-initramfs.patch
        repo:  meta-srg52

bblayers_conf_header:
  standard: |
    LCONF_VERSION = "6"
    BBPATH = "${TOPDIR}"
    BBFILES ?= ""

local_conf_header:
  standard: |
    CONF_VERSION = "1"
  cross: |
    ISAR_CROSS_COMPILE = "1"
  root_password: |
    USERS += "root"
    # 'aaeon'
    USER_root[password] = "$6$x/JYBdqHvCCs6EQM$blmDpS8NO7OkPyvy3NBmZLsOHI.7qE5V/IbpHsrhbagrbaPFsqFNYKSxGlPGNY9AZVtX8e2ZN4CmPMPpZCiYQ."
  preinstall_package: |
    IMAGE_PREINSTALL += "vim nano wpasupplicant network-manager modemmanager usbutils python3 python3-pip"
  image_type: |
    IMAGE_TYPE = "wic-targz-img"
